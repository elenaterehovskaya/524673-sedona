"use strict";var buttonSearch=document.querySelector(".modal__button"),formSearch=document.querySelector(".modal__form"),arrivalDate=formSearch.querySelector("[name=arrival]"),departureDate=formSearch.querySelector("[name=departure]"),adultsCount=formSearch.querySelector("[name=adults]"),childrenCount=formSearch.querySelector("[name=children]"),errorMessage=formSearch.querySelector(".modal__error"),isStorageSupport=!0,adultsStorage="",childrenStorage="";try{adultsStorage=localStorage.getItem("adultsCount"),childrenStorage=localStorage.getItem("childrenCount")}catch(e){isStorageSupport=!1}buttonSearch.addEventListener("click",function(e){e.preventDefault(),formSearch.classList.toggle("modal__form--close"),arrivalDate.focus(),adultsStorage&&childrenStorage&&(adultsCount.value=adultsStorage,childrenCount.value=childrenStorage),errorMessage.classList.contains("modal__error--show")&&errorMessage.classList.remove("modal__error--show"),formSearch.classList.contains("modal__form--close")&&formSearch.classList.add("modal__form--animation")}),formSearch.addEventListener("submit",function(e){arrivalDate.value&&departureDate.value&&adultsCount.value&&childrenCount.value?isStorageSupport&&(localStorage.setItem("adultsCount",adultsCount.value),localStorage.setItem("childrenCount",childrenCount.value),errorMessage.classList.contains("modal__error--show")&&errorMessage.classList.remove("modal__error--show")):(e.preventDefault(),errorMessage.classList.add("modal__error--show"))}),window.addEventListener("keydown",function(e){"Escape"===e.key&&(formSearch.classList.contains("modal__form--close")||(e.preventDefault(),formSearch.classList.add("modal__form--close")),errorMessage.classList.contains("modal__error--show")&&(e.preventDefault(),errorMessage.classList.remove("modal__error--show")))});
